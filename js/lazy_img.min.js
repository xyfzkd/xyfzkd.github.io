!function(){var a={lists:function(a){return $("img[data-src]")},load:function(a){var b=a?a:this.lists(),c=0,d=this,e=function(){$(b).each(function(){var a,b=$(this);b.data("loaded")||$(window).scrollTop()<=b.offset().top&&$(window).scrollTop()+$(window).height()>=b.offset().top&&(a=d.getImgSize(b),a&&b.attr("width","100%").attr("height",a),b.attr("src",b.attr("data-src")),b.data("loaded","true"),c++)})},f=function(){return b.length==c?($(window).unbind("scroll",f),void $(window).unbind("resize",f)):void e()};$(window).bind("scroll",f),$(window).bind("resize",f),f()},getImgSize:function(a){var b,c,d;if(c=$(a).parent().width(),$(a).attr("width")&&$(a).attr("height"))return b=$(a).attr("width"),d=$(a).attr("height"),c>b?null:d*(c/b);var e=new Image;e.onload=e.onerror=e.onabort=function(){return this.onload=this.onerror=this.onabort=null,b=this.width,d=this.height,b&&d?d*(c/b):null}}};a.load()}();